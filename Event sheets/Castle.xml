<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Castle</name>
    <events>
        <variable constant="0" name="Score" sid="6062660298752425" static="0" type="number">0</variable>
        <variable constant="0" name="TempVar" sid="6622283829184035" static="0" type="number">0</variable>
        <include>UI</include>
        <include>Link</include>
        <include>Scene</include>
        <event-block disabled="1" sid="8046863268783436">
            <conditions>
                <condition id="-2" name="On start of layout" sid="7789792770113962" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Play" sid="434313698316116" type="Audio">
                    <param id="0" name="Audio file">HyruleCastle</param>
                    <param id="2" name="Loop">1</param>
                    <param id="3" name="Volume">0</param>
                    <param id="1" name="Tag (optional)">&quot;bgm&quot;</param>
                </action>
                <action id="23" name="Seek to" sid="1439942075726722" type="Audio">
                    <param id="0" name="Tag">&quot;bgm&quot;</param>
                    <param id="1" name="Position">12</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4529270084229087">
            <conditions>
                <condition id="-2" name="On start of layout" sid="6368624316073162" type="System" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="2470273678302407" type="Octorok">
                    <param id="0" name="Animation">&quot;Stand&quot; &amp; Octorok.Direction</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-10" name="Set value" sid="5567288145472877" type="Octorok">
                    <param id="0" name="Instance variable">Health</param>
                    <param id="1" name="Value">2</param>
                </action>
                <action behavior="Platform" id="10" name="Set angle of gravity" sid="18364102874477" type="Bat">
                    <param id="0" name="Angle">270</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2077352369236078">
            <conditions>
                <condition id="-1" name="Every tick" sid="4227898925608993" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="7527620745941674">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9398554241800103" type="Octorok">
                            <param id="0" name="Instance variable">Hurt</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="7125709365760773" type="Octorok">
                            <param id="0" name="Instance variable">Offset</param>
                            <param id="1" name="Value">dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7815548117002094">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="6918378496244113" type="Octorok">
                            <param id="0" name="Instance variable">Offset</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Octorok.Rate</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="1910294787041783" type="Octorok">
                            <param id="0" name="Instance variable">Offset</param>
                            <param id="1" name="Value">Octorok.Rate</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="145426219399594" type="Octorok">
                            <param id="0" name="Vector Y">-300</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="7857599459016579">
            <conditions>
                <condition id="-1" name="Every tick" sid="110872888827119" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="4756603510781749">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="687299485040237" type="Bat">
                            <param id="0" name="Instance variable">Hurt</param>
                        </condition>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="584120727867832" type="Bat" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="7602951215760572" type="Bat">
                            <param id="0" name="Animation">&quot;Rest&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9858932461181087">
                            <conditions>
                                <condition id="-3" name="Is on-screen" sid="9692255226144036" type="Bat" />
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="1632097842814015" type="Bat">
                                    <param id="0" name="Instance variable">Offset</param>
                                    <param id="1" name="Value">dt</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="3713874671969363">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="2986951373131686" type="Bat">
                            <param id="0" name="Instance variable">Hurt</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6186645418319249">
                            <conditions>
                                <condition behavior="Platform" id="2" inverted="1" name="Is on floor" sid="2785333135769037" type="Bat" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="511244840712667" type="Bat">
                                    <param id="0" name="Animation">&quot;FlyHurt&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action behavior="Platform" id="5" name="Set gravity" sid="8440280477158065" type="Bat">
                                    <param id="0" name="Gravity">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="5506087512940583" type="Bat">
                                    <param id="0" name="Instance variable">XTmp</param>
                                    <param id="1" name="Value">Bat.Platform.VectorX &lt;&gt; 0 ? Bat.Platform.VectorX  : Bat.XTmp</param>
                                </action>
                                <action id="-10" name="Set value" sid="2357381013860412" type="Bat">
                                    <param id="0" name="Instance variable">YTmp</param>
                                    <param id="1" name="Value">Bat.Platform.VectorY &lt;&gt; 0 ? Bat.Platform.VectorY : Bat.YTmp</param>
                                </action>
                                <action behavior="Platform" id="9" name="Set vector Y" sid="2545582477345195" type="Bat">
                                    <param id="0" name="Vector Y">0</param>
                                </action>
                                <action behavior="Platform" id="8" name="Set vector X" sid="1577064946840144" type="Bat">
                                    <param id="0" name="Vector X">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4114796694052735">
                            <conditions>
                                <condition id="-22" name="Else" sid="4579738402800691" type="System" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="8581291380792378" type="Bat">
                                    <param id="0" name="Animation">&quot;RestHurt&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4444228574255137">
                    <conditions>
                        <condition id="4" name="On finished" sid="9608299355330159" type="Bat">
                            <param id="0" name="Animation">&quot;FlyHurt&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="5" name="Set gravity" sid="2196231602778173" type="Bat">
                            <param id="0" name="Gravity">1500</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="3734937235095482" type="Bat">
                            <param id="0" name="Vector Y">Bat.YTmp</param>
                        </action>
                        <action behavior="Platform" id="8" name="Set vector X" sid="7259719702210335" type="Bat">
                            <param id="0" name="Vector X">Bat.XTmp</param>
                        </action>
                        <action id="-10" name="Set value" sid="5336498509673351" type="Bat">
                            <param id="0" name="Instance variable">XTmp</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="1016838236985926" type="Bat">
                            <param id="0" name="Instance variable">YTmp</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="6163827503619967" type="Bat">
                            <param id="0" name="Instance variable">Hurt</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="3920088082669704" type="Bat">
                            <param id="0" name="Animation">&quot;Fly&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7444441890175194">
                    <conditions>
                        <condition id="4" name="On finished" sid="3257541440279875" type="Bat">
                            <param id="0" name="Animation">&quot;RestHurt&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="9935403531336315" type="Bat">
                            <param id="0" name="Instance variable">Hurt</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="9851729780094306" type="Bat">
                            <param id="0" name="Animation">&quot;Rest&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1126271016004269">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="1005512764482747" type="Bat">
                            <param id="0" name="Instance variable">Offset</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Bat.Rate</param>
                        </condition>
                        <condition id="-2" name="Compare Y" sid="7863054745440375" type="Bat">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="Y co-ordinate">LinkSprite.Y</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="2344039558482045" type="Bat">
                            <param id="0" name="Instance variable">Offset</param>
                            <param id="1" name="Value">Bat.Rate</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="1915633037375769" type="Bat">
                            <param id="0" name="Vector Y">(-1) * sqrt(LinkSprite.Y - Bat.Y) * 55</param>
                        </action>
                        <action id="4" name="Set animation" sid="5874854333058223" type="Bat">
                            <param id="0" name="Animation">&quot;Fly&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Platform" id="8" name="Set vector X" sid="903344339373665" type="Bat">
                            <param id="0" name="Vector X">LinkSprite.X - Bat.X &gt; 0 ? -100 : 100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1914006413558882">
                    <conditions>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="5091823439260548" type="Bat" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="8" name="Set vector X" sid="1403170492849086" type="Bat">
                            <param id="0" name="Vector X">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="3539905267023429">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="2455047105590688" type="Octorok">
                    <param id="0" name="Instance variable">Hurt</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="1375100999578867" type="Octorok">
                    <param id="0" name="Animation">&quot;Hurt&quot; &amp; Octorok.Direction</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4937751018152521">
            <conditions>
                <condition id="4" name="On finished" sid="8117363284718131" type="Octorok">
                    <param id="0" name="Animation">&quot;Hurt&quot;&amp;Octorok.Direction</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="2313562990103782" type="Octorok">
                    <param id="0" name="Animation">&quot;Stand&quot; &amp; Octorok.Direction</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="1946311017232333" type="Octorok">
                    <param id="0" name="Instance variable">Hurt</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4964244128490881">
            <conditions>
                <condition id="5" name="On any finished" sid="7236002994655726" type="Enemies" />
                <condition id="-7" name="Compare instance variable" sid="1059570662958288" type="Enemies">
                    <param id="0" name="Instance variable">Health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="908099832709823" type="Enemies" />
                <action id="-10" name="Add to" sid="461893032627956" type="System">
                    <param id="0" name="Variable">Score</param>
                    <param id="1" name="Value">Enemies.Score</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="5649754005611614">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="4568398275890244" type="System">
                            <param id="0" name="Variable">Score</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">100</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="9196993265447917" type="System">
                            <param id="0" name="Object to create">Heart</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="X">Octorok.X</param>
                            <param id="3" name="Y">Octorok.Y</param>
                        </action>
                        <action id="-11" name="Subtract from" sid="306151170359382" type="System">
                            <param id="0" name="Variable">Score</param>
                            <param id="1" name="Value">100</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="2124497088814228">
            <conditions>
                <condition behavior="Platform" id="6" name="On fall" sid="736016329532105" type="Octorok" />
                <condition id="-3" name="Is on-screen" sid="9437257511247835" type="Octorok" />
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="4214507024668759" type="System">
                    <param id="0" name="Object to create">OctoRock</param>
                    <param id="1" name="Layer">&quot;Game&quot;</param>
                    <param id="2" name="X">Octorok.Direction = &quot;Left&quot; ? Octorok.X-5 : Octorok.X+5</param>
                    <param id="3" name="Y">Octorok.Y+18</param>
                </action>
                <action behavior="Bullet" id="3" name="Set angle of motion" sid="4624554231487445" type="OctoRock">
                    <param id="0" name="Angle">Octorok.Direction = &quot;Left&quot; ? 180 : 0</param>
                </action>
                <action behavior="Bullet" id="0" name="Set speed" sid="1159824744781641" type="OctoRock">
                    <param id="0" name="Speed">200</param>
                </action>
                <action id="-10" name="Set value" sid="169602586985094" type="OctoRock">
                    <param id="0" name="Instance variable">Direction</param>
                    <param id="1" name="Value">Octorok.Direction</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
